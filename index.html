<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GH Marketplace - Buy/Sell Local Goods</title>
    <script src="https://cdn.tailwindcss.com"></script><script src="login-navbar-profile.js"></script>
    <!-- Google Identity Services -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <style>
        /* Custom CSS for additional styling */
        .hero-slider {
            height: 400px;
            background-size: cover;
            background-position: center;
            transition: background-image 0.5s ease-in-out;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .form-input {
            transition: all 0.3s ease;
        }

        .form-input:focus {
            border-color: #4F46E5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.5);
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .animate-spin {
            animation: spin 1s linear infinite;
        }
    </style>
</head>
<body class="bg-gray-100">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg">
        <div class="max-w-6xl mx-auto px-4">
            <div class="flex justify-between">
                <div class="flex space-x-7">
                    <div>
                        <a href="#" class="flex items-center py-4 px-2">
                            <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/e764cb69-0fd2-4938-a65e-f5fda41c387b.png" alt="GH Marketplace Logo - Circular logo with Ghana flag colors and shopping cart icon" class="h-8 w-8 mr-2 rounded-full border-2 border-green-500">
                            <span class="font-semibold text-gray-500 text-lg">GH Marketplace</span>
                        </a>
                    </div>
                </div>
                <div class="hidden md:flex items-center space-x-1">
                    <a href="#" class="py-4 px-2 text-green-500 border-b-4 border-green-500 font-semibold">Home</a>
                    <a href="featured-reviews.html" class="py-4 px-2 text-gray-500 font-semibold hover:text-green-500 transition duration-300">Products</a>
                    <a href="#sell" class="py-4 px-2 text-gray-500 font-semibold hover:text-green-500 transition duration-300">Sell</a>
                    <a href="#about" class="py-4 px-2 text-gray-500 font-semibold hover:text-green-500 transition duration-300">About</a>
                    <a href="#contact" class="py-4 px-2 text-gray-500 font-semibold hover:text-green-500 transition duration-300">Contact</a>
                </div>
                <div class="flex items-center space-x-4">
                    <button id="cartBtn" class="relative flex items-center focus:outline-none">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13l-1.35 2.7A1 1 0 007.5 17h9a1 1 0 00.9-.55L21 13M7 13V6a1 1 0 011-1h5a1 1 0 011 1v7" />
                        </svg>
                        <span id="cartCount" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5 font-bold">0</span>
                    </button>
                    <button id="profileBtn" class="hidden outline-none bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300">Profile</button>
                    <button class="outline-none mobile-menu-button">
                        <svg class="w-6 h-6 text-gray-500" 
                            x-show="!showMenu"
                            fill="none" 
                            stroke-linecap="round" 
                            stroke-linejoin="round" 
                            stroke-width="2" 
                            viewBox="0 0 24 24" 
                            stroke="currentColor">
                            <path d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile menu -->
        <div class="hidden mobile-menu">
            <ul class="">
                <li class="active"><a href="#" class="block text-sm px-2 py-4 text-white bg-green-500 font-semibold">Home</a></li>
                <li><a href="#products" class="block text-sm px-2 py-4 hover:bg-green-500 transition duration-300">Products</a></li>
                <li><a href="#sell" class="block text-sm px-2 py-4 hover:bg-green-500 transition duration-300">Sell</a></li>
                <li><a href="#about" class="block text-sm px-2 py-4 hover:bg-green-500 transition duration-300">About</a></li>
                <li><a href="#contact" class="block text-sm px-2 py-4 hover:bg-green-500 transition duration-300">Contact</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Slider -->
    <div class="hero-slider relative bg-green-50 h-96 flex items-center justify-center">
        <img src="IMAGE/Fresh Pineapples.jpg" alt="Hero" class="w-full h-full object-cover rounded-lg shadow-lg" style="max-height: 380px;">
        <div class="absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-40">
            <h1 class="text-4xl md:text-5xl font-bold text-white mb-4 text-center">Welcome to GH Marketplace</h1>
            <p class="text-lg md:text-2xl text-white mb-6 text-center">Your trusted platform for authentic Ghanaian products</p>
            <button id="registerBtn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-lg transition duration-300 text-lg">Join Now - It's Free</button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container mx-auto px-4 py-8">
        <!-- Featured Products -->
        <section id="products" class="mb-12">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">Featured Products</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                <!-- Product Cards will be dynamically inserted here -->
            </div>
        </section>

        <!-- Achievements & Fast Deliveries Section -->
        <section id="achievements" class="mb-12 bg-white rounded-lg shadow-md p-6">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">Our Achievements & Fast Deliveries</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="bg-green-50 rounded-lg p-6 shadow flex flex-col items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-green-600 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2a4 4 0 014-4h2a4 4 0 014 4v2" /></svg>
                    <h3 class="font-bold text-lg mb-2">10,000+ Satisfied Customers</h3>
                    <p class="text-gray-700 text-center">We are proud to have served thousands of happy buyers and sellers across Ghana.</p>
                </div>
                <div class="bg-green-50 rounded-lg p-6 shadow flex flex-col items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-green-600 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h1l2 7h13l2-7h1" /></svg>
                    <h3 class="font-bold text-lg mb-2">Fast & Reliable Deliveries</h3>
                    <p class="text-gray-700 text-center">Our logistics partners ensure your orders reach you quickly and safely, nationwide.</p>
                </div>
                <div class="bg-green-50 rounded-lg p-6 shadow flex flex-col items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-green-600 mb-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 12.414a2 2 0 00-2.828 0l-4.243 4.243A8 8 0 1116 8a8.001 8.001 0 01-1.343 8.657z" /></svg>
                    <h3 class="font-bold text-lg mb-2">Serving All Regions</h3>
                    <p class="text-gray-700 text-center">From Accra to Tamale, Kumasi to Takoradi, we deliver and support local businesses everywhere in Ghana.</p>
                </div>
            </div>
        </section>

        <!-- How It Works -->
        <section class="mb-12 bg-white rounded-lg shadow-md p-6">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">How GH Marketplace Works</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="text-center p-4">
                    <div class="bg-green-100 w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
                        </svg>
                    </div>
                    <h3 class="font-bold text-lg mb-2">1. List Your Items</h3>
                    <p class="text-gray-600">Create your seller account and list your products with photos and descriptions.</p>
                </div>
                <div class="text-center p-4">
                    <div class="bg-green-100 w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" />
                        </svg>
                    </div>
                    <h3 class="font-bold text-lg mb-2">2. Customers Buy</h3>
                    <p class="text-gray-600">Customers browse and purchase using Mobile Money (MoMo) for secure payments.</p>
                </div>
                <div class="text-center p-4">
                    <div class="bg-green-100 w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4-8-4m5 8v3m-2-6h4m1 0l2 2 4-4" />
                        </svg>
                    </div>
                    <h3 class="font-bold text-lg mb-2">3. Deliver & Earn</h3>
                    <p class="text-gray-600">Arrange delivery or pickup and get paid directly to your MoMo account.</p>
                </div>
            </div>
        </section>

        <!-- Categories -->
        <section class="mb-12">
        <!-- About Section -->
        <section id="about" class="mb-12 bg-white rounded-lg shadow-md p-6">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">About GH Marketplace</h2>
            <p class="text-gray-700 mb-4">
                GH Marketplace is Ghana's premier online platform for buying and selling local goods. Our mission is to empower Ghanaian entrepreneurs, farmers, and artisans by providing a trusted digital marketplace that connects sellers and buyers across the country.
            </p>
            <ul class="list-disc pl-6 text-gray-700 mb-4">
                <li>Wide range of products: fresh produce, crafts, clothing, electronics, and more</li>
                <li>Secure Mobile Money (MoMo) payments for safe transactions</li>
                <li>Support for local businesses and communities</li>
                <li>Easy-to-use platform for both buyers and sellers</li>
                <li>Fast delivery and pickup options</li>
            </ul>
            <p class="text-gray-700">
                Whether you're looking to shop for quality Ghanaian products or grow your business, GH Marketplace is here to help you succeed. Join our community today and experience the future of local commerce!
            </p>
        </section>
            <h2 class="text-3xl font-bold text-gray-800 mb-6">Popular Categories</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <div class="bg-white rounded-lg shadow-md overflow-hidden cursor-pointer category-card" data-category="produce">
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/728f8d00-f0d5-4a15-b52e-2248bad34e84.png" alt="Fresh fruits and vegetables from local Ghanaian farms" class="w-full h-40 object-cover">
                    <div class="p-4">
                        <h3 class="font-bold text-lg">Fresh Produce</h3>
                    </div>
                </div>
                <div class="bg-white rounded-lg shadow-md overflow-hidden cursor-pointer category-card" data-category="clothing">
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/35270295-2422-4d00-a526-e568d8cbd190.png" alt="Handmade Ghanaian clothing and textiles in vibrant colors" class="w-full h-40 object-cover">
                    <div class="p-4">
                        <h3 class="font-bold text-lg">Clothing</h3>
                    </div>
                </div>
                <div class="bg-white rounded-lg shadow-md overflow-hidden cursor-pointer category-card" data-category="handicrafts">
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/802a29c4-c656-4851-b3ba-45b89980d999.png" alt="Traditional Ghanaian crafts and artworks including wood carvings" class="w-full h-40 object-cover">
                    <div class="p-4">
                        <h3 class="font-bold text-lg">Handicrafts</h3>
                    </div>
                </div>
                <div class="bg-white rounded-lg shadow-md overflow-hidden cursor-pointer category-card" data-category="electronics">
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/f7f51eaf-68b6-48e0-a144-86f9fcd9ba9d.png" alt="Electronic gadgets and accessories available in Ghana" class="w-full h-40 object-cover">
                    <div class="p-4">
                        <h3 class="font-bold text-lg">Electronics</h3>
                    </div>
                </div>
    <!-- Category Details Modal -->
    <div id="categoryModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-6 w-full max-w-lg relative">
            <button id="closeCategoryModal" class="absolute top-2 right-2 text-gray-500 hover:text-gray-700">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
            <div id="categoryModalContent"></div>
        </div>
    </div>
            </div>
        </section>

        <!-- Seller Section -->
        <section id="sell" class="mb-12 bg-green-50 rounded-lg p-6">
            <div class="md:flex items-center">
                <div class="md:w-1/2 mb-6 md:mb-0">
                    <h2 class="text-3xl font-bold text-gray-800 mb-4">Ready to Sell Your Products?</h2>
                    <p class="text-gray-600 mb-4">Join thousands of Ghanaians who are growing their businesses with GH Marketplace.</p>
                    <ul class="mb-6">
                        <li class="flex items-center mb-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                            </svg>
                            No listing fees
                        </li>
                        <li class="flex items-center mb-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                            </svg>
                            Secure MoMo payments
                        </li>
                        <li class="flex items-center mb-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-500 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
                            </svg>
                            Delivery support
                        </li>
                    </ul>
                    <button id="becomeSellerBtn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300">
                        Become a Seller
                    </button>
                </div>
                <div class="md:w-1/2 md:pl-8">
                    <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/3e4b8a37-1d52-4bdc-9592-f401f4bcb409.png" alt="Happy Ghanaian seller showing products on GH Marketplace" class="rounded-lg shadow-lg">
                </div>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer id="contact" class="bg-gray-800 text-white pt-8 pb-6">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-xl font-bold mb-4">GH Marketplace</h3>
                    <p class="text-gray-400">Buying and selling made simple for Ghanaians.</p>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">Home</a></li>
                        <li><a href="#products" class="text-gray-400 hover:text-white">Products</a></li>
                        <li><a href="#sell" class="text-gray-400 hover:text-white">Sell</a></li>
                        <li><a href="#about" class="text-gray-400 hover:text-white">About</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">Contact Us</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li class="flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />
                            </svg>
                            Accra, Ghana
                        </li>
                        <li class="flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z" />
                            </svg>
                            +233506371225 / +233599621244
                        </li>
                        <li class="flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z" />
                                <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z" />
                            </svg>
                            info@ghmarketplace.com
                        </li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">Payment Methods</h4>
                    <div class="flex space-x-2">
                        <img src="IMAGE/mtn.png" alt="MTN Mobile Money Logo" class="h-10 w-10 rounded-full">
                        <img src="IMAGE/unnamed.png" alt="AirtelTigo Money Logo" class="h-10 w-10 rounded-full">
                        <img src="IMAGE/kJfyxmO.png" alt="Telecel Cash Logo" class="h-10 w-10 rounded-full">
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-6 text-center text-gray-400">
                <p>&copy; 2024 GH Marketplace. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Auto Registration/Login Prompt Modal -->
    <div id="autoRegLoginModal" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center relative animate__animated animate__fadeInDown">
            <button id="closeAutoRegLoginModal" class="absolute top-3 right-3 text-gray-400 hover:text-gray-700 text-2xl font-bold">&times;</button>
            <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/9314a482-f71c-46b1-929b-473ad6e5da64.png" alt="Welcome" class="w-20 h-20 mx-auto rounded-full shadow mb-4 border-4 border-green-200">
            <h2 class="text-2xl font-extrabold text-green-700 mb-2">Welcome to GH Marketplace!</h2>
            <p class="text-gray-600 mb-6">Join our community to enjoy exclusive deals, fast checkout, and more. Already have an account? Login below!</p>
            <div class="flex flex-col gap-3">
                <button id="autoShowRegister" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300 text-lg">Register Now</button>
                <button id="autoShowLogin" class="border border-green-600 text-green-600 hover:bg-green-50 font-bold py-2 px-6 rounded-lg transition duration-300 text-lg">Login</button>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Profile Modal -->
    <div id="profileModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-6 w-full max-w-md">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-2xl font-bold text-gray-800">My Profile</h3>
                <button id="closeProfileModal" class="text-gray-500 hover:text-gray-700">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div id="profileDetails">
                <!-- Profile details will be filled by JS -->
            </div>
        </div>
    </div>
    <!-- Registration Modal -->
    <div id="registrationModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-6 w-full max-w-md">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-2xl font-bold text-gray-800">Create Account</h3>
                <button id="closeRegistrationModal" class="text-gray-500 hover:text-gray-700">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <form id="registrationForm">
                <div class="mb-4">
                    <label for="regName" class="block text-gray-700 mb-2">Full Name</label>
                    <input type="text" id="regName" class="w-full px-3 py-2 border border-gray-300 rounded-md form-input">
                </div>
                <!-- Profile image input removed as requested -->
                <div class="mb-4">
                    <label for="regEmail" class="block text-gray-700 mb-2">Email</label>
                    <input type="email" id="regEmail" class="w-full px-3 py-2 border border-gray-300 rounded-md form-input">
                </div>
                <div class="mb-4">
                    <label for="regPhone" class="block text-gray-700 mb-2">Phone Number</label>
                    <div class="flex">
                        <select class="px-3 py-2 border border-gray-300 rounded-l-md bg-gray-100">
                            <option>+233</option>
                        </select>
                        <input type="tel" id="regPhone" class="w-full px-3 py-2 border-t border-r border-b border-gray-300 rounded-r-md form-input">
                    </div>
                    <script>
                    // Restrict phone input to 10 digits
                    document.addEventListener('DOMContentLoaded', function() {
                        var regPhone = document.getElementById('regPhone');
                        if (regPhone) {
                            regPhone.addEventListener('input', function() {
                                // Remove non-digits
                                this.value = this.value.replace(/\D/g, '');
                                if (this.value.length > 10) {
                                    alert('Phone number must not exceed 10 digits.');
                                    this.value = this.value.slice(0, 10);
                                }
                            });
                        }
                    });
                    </script>
                </div>
                <div class="mb-4">

                </div>
                <div class="mb-4">
                    <label for="regPassword" class="block text-gray-700 mb-2">Password</label>
                    <div class="flex space-x-2 items-center">
                        <input type="password" id="regPassword" class="w-full px-3 py-2 border border-gray-300 rounded-md form-input">
                        <button type="button" id="generatePasswordBtn" class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-bold py-2 px-3 rounded-md transition duration-200">Generate</button>
                        <button type="button" id="togglePassword" class="text-gray-500 hover:text-gray-700 px-2" title="Show/Hide Password">
                            <svg id="eyeIcon" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="mb-6">
                    <label for="regConfirmPassword" class="block text-gray-700 mb-2">Confirm Password</label>
                    <div class="flex items-center space-x-2">
                        <input type="password" id="regConfirmPassword" class="w-full px-3 py-2 border border-gray-300 rounded-md form-input">
                        <button type="button" id="toggleConfirmPassword" class="text-gray-500 hover:text-gray-700 px-2" title="Show/Hide Password">
                            <svg id="eyeIconConfirm" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                            </svg>
                        </button>
                    </div>
           
                </div>
                <div class="mb-4">
                    <label class="inline-flex items-center">
                        <input type="checkbox" id="acceptTermsRegister" class="form-checkbox h-5 w-5 text-green-600">
                        <span class="ml-2 text-gray-700">I accept the <button type="button" id="openTermsFromRegister" class="text-green-600 hover:underline">Terms and Services</button></span>
                    </label>
                </div>
                <button id="registerSubmitBtn" type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md transition duration-300 mb-2" disabled>
                    Register
                </button>
                <div class="mb-2 flex items-center justify-center">
                    <div class="border-t border-gray-300 flex-grow mr-2"></div>
                    <span class="text-gray-500 text-sm">or</span>
                    <div class="border-t border-gray-300 flex-grow ml-2"></div>
                </div>
                <button id="googleRegisterBtn" type="button" class="w-full flex items-center justify-center bg-white border border-gray-300 text-gray-700 font-bold py-2 px-4 rounded-md shadow-sm hover:bg-gray-50 transition duration-300">
                    <img src="https://developers.google.com/identity/images/g-logo.png" alt="Google" class="w-5 h-5 mr-2"> Continue with Google
                </button>
            </form>
            <div class="mt-4 text-center">
                <p class="text-gray-600">Already have an account? <button id="showLoginModal" class="text-green-600 hover:underline">Login</button></p>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-6 w-full max-w-md">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-2xl font-bold text-gray-800">Login</h3>
                <button id="closeLoginModal" class="text-gray-500 hover:text-gray-700">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <form id="loginForm">
                <div class="mb-4">
                    <label for="loginEmail" class="block text-gray-700 mb-2">Email or Phone</label>
                    <input type="text" id="loginEmail" class="w-full px-3 py-2 border border-gray-300 rounded-md form-input">
                </div>
                <div class="mb-4">
                    <label for="loginPassword" class="block text-gray-700 mb-2">Password</label>
                    <input type="password" id="loginPassword" class="w-full px-3 py-2 border border-gray-300 rounded-md form-input">
                </div>
                <div class="mb-6 flex justify-between items-center">
                    <label class="inline-flex items-center">
                        <input type="checkbox" class="form-checkbox h-5 w-5 text-green-600">
                        <span class="ml-2 text-gray-700">Remember me</span>
                    </label>
                    <button id="forgotPasswordBtn" type="button" class="text-green-600 hover:underline">Forgot password?</button>
                </div>
                <button type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md transition duration-300 mb-2">
                    Login
                </button>
                <div class="mb-2 flex items-center justify-center">
                    <div class="border-t border-gray-300 flex-grow mr-2"></div>
                    <span class="text-gray-500 text-sm">or</span>
                    <div class="border-t border-gray-300 flex-grow ml-2"></div>
                </div>
                <button id="googleLoginBtn" type="button" class="w-full flex items-center justify-center bg-white border border-gray-300 text-gray-700 font-bold py-2 px-4 rounded-md shadow-sm hover:bg-gray-50 transition duration-300">
                    <img src="https://developers.google.com/identity/images/g-logo.png" alt="Google" class="w-5 h-5 mr-2"> Continue with Google
                </button>
            </form>
            <div class="mt-4 text-center">
                <p class="text-gray-600">Don't have an account? <button id="showRegistrationModal" class="text-green-600 hover:underline">Register</button></p>
            </div>
        </div>
    </div>

    <!-- Forgot Password Modal -->
    <div id="forgotPasswordModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-6 w-full max-w-md">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-2xl font-bold text-gray-800">Reset Password</h3>
                <button id="closeForgotPasswordModal" class="text-gray-500 hover:text-gray-700">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <form id="forgotPasswordForm">
                <div class="mb-4">
                    <label for="resetEmail" class="block text-gray-700 mb-2">Email Address</label>
                    <input type="email" id="resetEmail" class="w-full px-3 py-2 border border-gray-300 rounded-md form-input">
                </div>
                <div class="mb-6">
                    <p class="text-gray-600 mb-2">We'll send you an OTP to reset your password.</p>
                </div>
                <button type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md transition duration-300">
                    Send OTP
                </button>
            </form>
        </div>
    </div>

    <!-- Product Modal -->
    <div id="productModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-6 w-full max-w-3xl">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-2xl font-bold text-gray-800" id="productModalTitle">Product Details</h3>
                <button id="closeProductModal" class="text-gray-500 hover:text-gray-700">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div class="md:flex gap-6">
                <div class="mb-6 md:mb-0 md:w-1/2">
                    <img id="productModalImage" src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/3ac8375e-b42e-4205-af29-85fc3a8aef23.png" alt="Detailed view of selected product" class="w-full rounded-lg">
                </div>
                <div class="md:w-1/2">
                    <div class="mb-4">
                        <p id="productModalDescription" class="text-gray-600 mb-4"></p>
                        <div class="flex items-center mb-2">
                            <span class="font-bold text-lg mr-2" id="productModalPrice"></span>
                            <span class="text-green-600">In Stock</span>
                        </div>
                        <div class="flex items-center mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-yellow-400" viewBox="0 0 20 20" fill="currentColor">
                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                            </svg>
                            <span class="ml-1 text-gray-600">4.5 (12 reviews)</span>
                        </div>
                    </div>
                    <div class="mb-6">
                        <div class="flex items-center mb-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />
                            </svg>
                            <span id="productModalLocation" class="text-gray-600"></span>
                        </div>
                        <div class="flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500 mr-2" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z" clip-rule="evenodd" />
                            </svg>
                            <span id="productModalSeller" class="text-gray-600"></span>
                        </div>
                    </div>
                    <div class="flex flex-col space-y-4">
                        <button id="buyNowBtn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg transition duration-300">
                            Buy Now
                        </button>
                        <button id="addToCartBtn" class="border border-green-600 text-green-600 hover:bg-green-50 font-bold py-3 px-6 rounded-lg transition duration-300">
                            Add to Cart
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div id="paymentModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-6 w-full max-w-md">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-2xl font-bold text-gray-800">Complete Payment</h3>
                <button id="closePaymentModal" class="text-gray-500 hover:text-gray-700">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <form id="paymentForm">
                <div class="mb-4">
                    <label class="block text-gray-700 mb-2">Payment Method</label>
                    <div class="space-y-3">
                        <label class="flex items-center border rounded-lg p-3 hover:bg-green-50 cursor-pointer">
                            <input type="radio" name="paymentMethod" value="momo" class="form-radio h-5 w-5 text-green-600" checked>
                            <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/3624d67f-4d22-4623-b203-9778a1ea2883.png" alt="MTN Mobile Money Logo" class="ml-2 mr-3 h-6">
                            <span class="font-medium">Mobile Money</span>
                        </label>
                        <div class="ml-8">
                            <div class="mb-4 mt-2">
                                <label for="momoNumber" class="block text-gray-700 mb-1">MoMo Number</label>
                                <select id="momoProvider" class="px-3 py-2 border border-gray-300 rounded-l-md bg-gray-100">
                                    <option>MTN</option>
                                    <option>AirtelTigo</option>
                                    <option>Vodafone</option>
                                </select>
                                <input type="tel" id="momoNumber" class="w-full px-3 py-2 border-t border-r border-b border-gray-300 rounded-r-md form-input" placeholder="0123456789">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="mb-6">
                    <label for="paymentAmount" class="block text-gray-700 mb-2">Amount</label>
                    <div class="relative">
                        <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                            <span class="text-gray-500">GHS</span>
                        </div>
                        <input type="number" id="paymentAmount" class="w-full pl-12 px-3 py-2 border border-gray-300 rounded-md form-input" readonly>
                    </div>
                </div>
                <div class="mb-4">
                    <label class="inline-flex items-center">
                        <input type="checkbox" id="acceptTermsPayment" class="form-checkbox h-5 w-5 text-green-600">
                        <span class="ml-2 text-gray-700">I accept the <button type="button" id="openTermsFromPayment" class="text-green-600 hover:underline">Terms and Services</button></span>
                    </label>
                </div>
                <button type="submit" id="confirmPaymentBtn" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md transition duration-300" disabled>
                    Confirm Payment
                </button>
            </form>
            <div class="mt-4 text-center text-sm text-gray-500">
                By completing this purchase, you agree to our <a href="#" class="text-green-600 hover:underline">Terms of Service</a>
            </div>
        </div>
    </div>

    <!-- Payment Success Modal -->
    <div id="paymentSuccessModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-6 w-full max-w-md">
            <div class="text-center">
                <div class="w-16 h-16 bg-green-100 rounded-full mx-auto flex items-center justify-center mb-4">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                    </svg>
                </div>
                <h3 class="text-2xl font-bold text-gray-800 mb-2">Payment Successful!</h3>
                <p class="text-gray-600 mb-6">Thank you for your purchase. Your order details have been sent to your phone and email.</p>
                <button id="closePaymentSuccessModal" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300">
                    Continue Shopping
                </button>
            </div>
        </div>
    </div>

    <!-- OTP Verification Modal -->
    <div id="otpModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-6 w-full max-w-md">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-2xl font-bold text-gray-800">OTP Verification</h3>
                <button id="closeOtpModal" class="text-gray-500 hover:text-gray-700">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <form id="otpForm">
                <div class="mb-4">
                    <p class="text-gray-600 mb-4">We've sent a 6-digit OTP to your phone number. Please enter it below.</p>
                    <div class="flex justify-center space-x-2">
                        <input type="text" maxlength="1" class="w-12 h-12 text-center text-xl border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500" pattern="[0-9]">
                        <input type="text" maxlength="1" class="w-12 h-12 text-center text-xl border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500" pattern="[0-9]">
                        <input type="text" maxlength="1" class="w-12 h-12 text-center text-xl border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500" pattern="[0-9]">
                        <input type="text" maxlength="1" class="w-12 h-12 text-center text-xl border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500" pattern="[0-9]">
                        <input type="text" maxlength="1" class="w-12 h-12 text-center text-xl border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500" pattern="[0-9]">
                        <input type="text" maxlength="1" class="w-12 h-12 text-center text-xl border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500" pattern="[0-9]">
                    </div>
                </div>
                <div class="mb-4 text-center">
                    <button type="button" id="resendOtpBtn" class="text-green-600 hover:underline">Resend OTP</button>
                    <div id="otpTimer" class="text-sm text-gray-500 mt-2">Resend available in 1:30</div>
                </div>
                <button type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md transition duration-300">
                    Verify OTP
                </button>
            </form>
        </div>
    </div>


    <script>
        // Google Sign-In logic
        // Replace with your Google Client ID
        const GOOGLE_CLIENT_ID = 'YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com';

        function handleGoogleCredentialResponse(response) {
            // Decode JWT to get user info
            const payload = JSON.parse(atob(response.credential.split('.')[1]));
            const email = payload.email;
            const name = payload.name || email.split('@')[0];
            const profileImage = payload.picture || '';
            // Try to find user in localStorage
            let users = JSON.parse(localStorage.getItem('ghmarketplace_users') || '[]');
            let foundUser = users.find(u => u.email === email);
            if (!foundUser) {
                // Register new user with Google info
                foundUser = {
                    name,
                    email,
                    phone: '',
                    password: '',
                    profileImage
                };
                users.push(foundUser);
                localStorage.setItem('ghmarketplace_users', JSON.stringify(users));
            }
            currentUser = foundUser;
            alert(`Welcome${foundUser.name ? ' ' + foundUser.name : ''}! You are signed in with Google.`);
            // Hide modals if open
            hideModal(registrationModal);
            hideModal(loginModal);
            if (profileBtn) profileBtn.classList.remove('hidden');
            showProfile();
            // Redirect to featured products & reviews page after login/register
            setTimeout(function() {
                window.location.href = 'featured-reviews.html';
            }, 800);
        }

        function showGoogleOneTap(mode) {
            // mode: 'register' or 'login'
            google.accounts.id.initialize({
                client_id: GOOGLE_CLIENT_ID,
                callback: handleGoogleCredentialResponse
            });
            google.accounts.id.prompt();
        }
        


        // Always log out user on new page load
        localStorage.removeItem('ghmarketplace_currentUser');
        // Current user state
        let currentUser = null;
        let currentProduct = null;

        // Hero slider images - Showcasing Ghanaian marketplace scenes
        const heroImages = [
            "https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/cf9647cc-6d8a-47cc-bc8b-ae9ab9cb4e4a.png",
            "https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/db2584e7-483d-462b-b486-4e630d2335dc.png",
            "https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/9314a482-f71c-46b1-929b-473ad6e5da64.png"
        ];
        let currentHeroIndex = 0;


        // Hero slider button logic
        function updateHeroSliderButton() {
            const heroSlider = document.querySelector('.hero-slider');
            if (!heroSlider) return;
            // Remove all buttons except 'Join Now - For Free'
            heroSlider.querySelectorAll('button').forEach(btn => btn.remove());
            // Only show 'Join Now - For Free' if not logged in
            if (!currentUser || !currentUser.name) {
                let btn = document.getElementById('heroSliderBtn');
                if (!btn) {
                    btn = document.createElement('button');
                    btn.id = 'heroSliderBtn';
                    btn.className = 'mt-8 bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-lg text-xl shadow-lg transition duration-300';
                    btn.style.position = 'absolute';
                    btn.style.bottom = '40px';
                    btn.style.left = '50%';
                    btn.style.transform = 'translateX(-50%)';
                    heroSlider.appendChild(btn);
                }
                btn.textContent = 'Join Now - For Free';
                btn.onclick = function() {
                    showModal(registrationModal);
                };
            }
        }

        // Hero slider image animation logic
        function animateHeroSlider() {
            const heroImg = document.querySelector('.hero-slider img');
            if (!heroImg) return;
            setInterval(() => {
                currentHeroIndex = (currentHeroIndex + 1) % heroImages.length;
                heroImg.src = heroImages[currentHeroIndex];
            }, 1000);
        }

        // Call this after login/logout and on page load
        function syncHeroSliderButton() {
            setTimeout(updateHeroSliderButton, 0);
        }

        // (Removed) Show registration or login modal after 10 seconds if not logged in
        // Now handled by autoRegLoginModal logic below

        // DOM Elements
        const registrationModal = document.getElementById('registrationModal');
        const loginModal = document.getElementById('loginModal');
        const forgotPasswordModal = document.getElementById('forgotPasswordModal');
        const productModal = document.getElementById('productModal');
        const paymentModal = document.getElementById('paymentModal');
        const paymentSuccessModal = document.getElementById('paymentSuccessModal');
        const otpModal = document.getElementById('otpModal');

        // Buttons to open modals
        const registerBtn = document.getElementById('registerBtn');
        const becomeSellerBtn = document.getElementById('becomeSellerBtn');
        const showLoginModalBtn = document.getElementById('showLoginModal');
        const showRegistrationModalBtn = document.getElementById('showRegistrationModal');
        const forgotPasswordBtn = document.getElementById('forgotPasswordBtn');
        const buyNowBtn = document.getElementById('buyNowBtn');
        const confirmPaymentBtn = document.getElementById('confirmPaymentBtn');
        const resendOtpBtn = document.getElementById('resendOtpBtn');

        // Buttons to close modals
        const closeRegistrationModalBtn = document.getElementById('closeRegistrationModal');
        const closeLoginModalBtn = document.getElementById('closeLoginModal');
        const closeForgotPasswordModalBtn = document.getElementById('closeForgotPasswordModal');
        const closeProductModalBtn = document.getElementById('closeProductModal');
        const closePaymentModalBtn = document.getElementById('closePaymentModal');
        const closePaymentSuccessModalBtn = document.getElementById('closePaymentSuccessModal');
        const closeOtpModalBtn = document.getElementById('closeOtpModal');

        // Forms
        const registrationForm = document.getElementById('registrationForm');
        const loginForm = document.getElementById('loginForm');
        const forgotPasswordForm = document.getElementById('forgotPasswordForm');
        const paymentForm = document.getElementById('paymentForm');
        const otpForm = document.getElementById('otpForm');

        // Mobile menu toggle
        const mobileMenuButton = document.querySelector('.mobile-menu-button');
        const mobileMenu = document.querySelector('.mobile-menu');

        // Functions
        // Profile modal logic
        const profileBtn = document.getElementById('profileBtn');
        const profileModal = document.getElementById('profileModal');
        const closeProfileModalBtn = document.getElementById('closeProfileModal');
        const profileDetails = document.getElementById('profileDetails');

 // Show/hide password logic
            const regPassword = document.getElementById('regPassword');
            const regConfirmPassword = document.getElementById('regConfirmPassword');
            const togglePassword = document.getElementById('togglePassword');
            const toggleConfirmPassword = document.getElementById('toggleConfirmPassword');
            if (togglePassword && regPassword) {
                togglePassword.addEventListener('click', function() {
                    const type = regPassword.type === 'password' ? 'text' : 'password';
                    regPassword.type = type;
                    // Optionally change icon
                });
            }
            if (toggleConfirmPassword && regConfirmPassword) {
                toggleConfirmPassword.addEventListener('click', function() {
                    const type = regConfirmPassword.type === 'password' ? 'text' : 'password';
                    regConfirmPassword.type = type;
                });
            }

        function showProfile() {
            if (!currentUser) return;
            let html = `<div class="mb-4 text-center">
                <div class="flex flex-col items-center mb-4">
                    <img id="profileImageDisplay" src="${currentUser.profileImage ? currentUser.profileImage : 'https://ui-avatars.com/api/?name=' + encodeURIComponent(currentUser.name)}" alt="Profile Image" class="w-24 h-24 rounded-full object-cover border-2 border-green-500 mb-2">
                    <label for="updateProfileImage" class="block text-gray-700 mb-1">Update Profile Image</label>
                    <input type="file" id="updateProfileImage" accept="image/*" class="w-full px-3 py-2 border border-gray-300 rounded-md form-input mb-2 cursor-pointer">
                </div>
                <span class="block text-gray-700 font-bold">Name:</span>
                <span class="block text-gray-900 mb-2">${currentUser.name}</span>
                <span class="block text-gray-700 font-bold">Email:</span>
                <span class="block text-gray-900 mb-2">${currentUser.email}</span>
                <span class="block text-gray-700 font-bold">Phone:</span>
                <span class="block text-gray-900 mb-2">${currentUser.phone}</span>
                <button id="logoutBtn" class="mt-4 bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-6 rounded-md transition duration-300">Logout</button>
            </div>`;
            profileDetails.innerHTML = html;
            showModal(profileModal);
            // Add event for updating profile image directly on file input change
            const updateProfileImageInput = document.getElementById('updateProfileImage');
            if (updateProfileImageInput) {
                updateProfileImageInput.onchange = function() {
                    if (updateProfileImageInput.files && updateProfileImageInput.files[0]) {
                        const file = updateProfileImageInput.files[0];
                        const reader = new FileReader();
                        reader.onload = (e) => {
                            currentUser.profileImage = e.target.result;
                            document.getElementById('profileImageDisplay').src = currentUser.profileImage;
                            alert('Profile image updated!');
                        };
                        reader.readAsDataURL(file);
                    }
                };
            }
            // Add event for logout
            const logoutBtn = document.getElementById('logoutBtn');
            if (logoutBtn) {
                logoutBtn.onclick = function() {
                    currentUser = null;
                    hideModal(profileModal);
                    // Hide profile button and show register/login if needed
                    const profileBtn = document.getElementById('profileBtn');
                    if (profileBtn) profileBtn.classList.add('hidden');
                    // Update hero slider button
                    syncHeroSliderButton();
                };
            }
        }

        if (profileBtn) {
            profileBtn.addEventListener('click', showProfile);
        }
        // Initial hero slider button setup
        syncHeroSliderButton();
        animateHeroSlider();
        if (closeProfileModalBtn) {
            closeProfileModalBtn.addEventListener('click', () => hideModal(profileModal));
        }
        function showModal(modal) {
            modal.classList.remove('hidden');
        }

        function hideModal(modal) {
            modal.classList.add('hidden');
        }

        // displayProducts and all featured products/reviews logic have been removed from this file. All product display and add-to-cart modal logic is now in featured-reviews.html.
        // Category details logic
        const categoryDetails = {
            produce: {
                title: 'Fresh Produce',
                image: 'https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/728f8d00-f0d5-4a15-b52e-2248bad34e84.png',
                description: 'Discover a wide variety of fresh fruits and vegetables sourced directly from local Ghanaian farms. Enjoy seasonal produce, organic options, and the best quality for your family and business.'
            },
            clothing: {
                title: 'Clothing',
                image: 'https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/35270295-2422-4d00-a526-e568d8cbd190.png',
                description: 'Shop authentic Ghanaian clothing and textiles, including vibrant kente, African print dresses, and handmade accessories. Support local tailors and designers while looking your best.'
            },
            handicrafts: {
                title: 'Handicrafts',
                image: 'https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/802a29c4-c656-4851-b3ba-45b89980d999.png',
                description: 'Explore unique, hand-crafted items such as wood carvings, beadwork, pottery, and traditional art. Each piece tells a story and supports Ghanaian artisans.'
            },
            electronics: {
                title: 'Electronics',
                image: 'https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/f7f51eaf-68b6-48e0-a144-86f9fcd9ba9d.png',
                description: 'Find the latest gadgets, phones, and accessories available in Ghana. Shop with confidence from trusted sellers and enjoy great deals on electronics.'
            }
        };

        // Modal logic for category details
        const categoryModal = document.getElementById('categoryModal');
        const categoryModalContent = document.getElementById('categoryModalContent');
        const closeCategoryModalBtn = document.getElementById('closeCategoryModal');

        function showCategoryModal(categoryKey) {
            const details = categoryDetails[categoryKey];
            if (!details) return;
            categoryModalContent.innerHTML = `
                <div class="text-center">
                    <img src="${details.image}" alt="${details.title}" class="w-32 h-32 mx-auto rounded-lg mb-4 object-cover">
                    <h2 class="text-2xl font-bold text-gray-800 mb-2">${details.title}</h2>
                    <p class="text-gray-700 mb-4">${details.description}</p>
                </div>
            `;
            categoryModal.classList.remove('hidden');
        }

        document.querySelectorAll('.category-card').forEach(card => {
            card.addEventListener('click', function() {
                const category = this.getAttribute('data-category');
                showCategoryModal(category);
            });
        });

        if (closeCategoryModalBtn) {
            closeCategoryModalBtn.addEventListener('click', () => {
                categoryModal.classList.add('hidden');
            });
        }

           


        // Event Listeners
        // Enable Register button only if terms accepted
        const acceptTermsRegister = document.getElementById('acceptTermsRegister');
        const registerSubmitBtn = document.getElementById('registerSubmitBtn');
        if (acceptTermsRegister && registerSubmitBtn) {
            acceptTermsRegister.addEventListener('change', function() {
                registerSubmitBtn.disabled = !this.checked;
            });
        }
        // Enable Confirm Payment button only if terms accepted
        const acceptTermsPayment = document.getElementById('acceptTermsPayment');
        // confirmPaymentBtn is already declared above, so just reuse it here
        if (acceptTermsPayment && confirmPaymentBtn) {
            acceptTermsPayment.addEventListener('change', function() {
                confirmPaymentBtn.disabled = !this.checked;
            });
        }
        // Open Terms modal from registration or payment
        const openTermsFromRegister = document.getElementById('openTermsFromRegister');
        if (openTermsFromRegister) {
            openTermsFromRegister.addEventListener('click', function() {
                showModal(document.getElementById('termsModal'));
            });
        }
        const openTermsFromPayment = document.getElementById('openTermsFromPayment');
        if (openTermsFromPayment) {
            openTermsFromPayment.addEventListener('click', function() {
                showModal(document.getElementById('termsModal'));
            });
        }
        // Google Sign-In button events
        document.addEventListener('DOMContentLoaded', function() {
            const googleRegisterBtn = document.getElementById('googleRegisterBtn');
            if (googleRegisterBtn) {
                googleRegisterBtn.addEventListener('click', function() {
                    if (typeof google !== 'undefined' && google.accounts && google.accounts.id) {
                        google.accounts.id.initialize({
                            client_id: GOOGLE_CLIENT_ID,
                            callback: handleGoogleCredentialResponse
                        });
                        google.accounts.id.prompt();
                    } else {
                        alert('Google Sign-In is not available. Please check your internet connection.');
                    }
                });
            }
            const googleLoginBtn = document.getElementById('googleLoginBtn');
            if (googleLoginBtn) {
                googleLoginBtn.addEventListener('click', function() {
                    if (typeof google !== 'undefined' && google.accounts && google.accounts.id) {
                        google.accounts.id.initialize({
                            client_id: GOOGLE_CLIENT_ID,
                            callback: handleGoogleCredentialResponse
                        });
                        google.accounts.id.prompt();
                    } else {
                        alert('Google Sign-In is not available. Please check your internet connection.');
                    }
                });
            }
        });
        registerBtn.addEventListener('click', () => {
            if (currentUser) {
                showProfile();
            } else {
                showModal(registrationModal);
            }
        });
        becomeSellerBtn.addEventListener('click', () => {
            window.location.href = 'become-seller.html';
        });
        showLoginModalBtn.addEventListener('click', () => {
            hideModal(registrationModal);
            showModal(loginModal);
        });
        showRegistrationModalBtn.addEventListener('click', () => {
            hideModal(loginModal);
            showModal(registrationModal);
        });
        forgotPasswordBtn.addEventListener('click', () => {
            hideModal(loginModal);
            showModal(forgotPasswordModal);
        });
        buyNowBtn.addEventListener('click', () => {
            hideModal(productModal);
            showModal(paymentModal);
        });
        // Cart button
        const cartBtn = document.getElementById('cartBtn');
        const cartModal = document.getElementById('cartModal');
        const closeCartModalBtn = document.getElementById('closeCartModal');
        if (cartBtn) {
            cartBtn.addEventListener('click', () => {
                updateCart();
                showModal(cartModal);
            });
        }
        if (closeCartModalBtn) {
            closeCartModalBtn.addEventListener('click', () => hideModal(cartModal));
        }
        // Checkout button
        const checkoutBtn = document.getElementById('checkoutBtn');
        if (checkoutBtn) {
            checkoutBtn.addEventListener('click', () => {
                hideModal(cartModal);
                if (cart.length > 0) {
                    // Calculate cart total
                    let total = 0;
                    cart.forEach(item => {
                        total += item.price * item.quantity;
                    });
                    // Calculate 1% tax
                    const tax = total * 0.01;
                    const grandTotal = total + tax;
                    // Set payment amount input
                    const paymentAmountInput = document.getElementById('paymentAmount');
                    if (paymentAmountInput) {
                        paymentAmountInput.value = grandTotal.toFixed(2);
                        paymentAmountInput.setAttribute('title', `Subtotal: GHS ${total.toFixed(2)} + Tax (1%): GHS ${tax.toFixed(2)}`);
                    }
                    // Optionally show tax breakdown in payment modal
                    let taxInfo = document.getElementById('taxInfo');
                    if (!taxInfo) {
                        const amountDiv = paymentAmountInput.closest('div.relative');
                        taxInfo = document.createElement('div');
                        taxInfo.id = 'taxInfo';
                        taxInfo.className = 'text-xs text-gray-500 mt-1';
                        amountDiv.parentNode.insertBefore(taxInfo, amountDiv.nextSibling);
                    }
                    taxInfo.innerHTML = `Subtotal: <b>GHS ${total.toFixed(2)}</b> &nbsp; | &nbsp; Tax (1%): <b>GHS ${tax.toFixed(2)}</b> &nbsp; | &nbsp; <span class='text-green-700 font-bold'>Total: GHS ${grandTotal.toFixed(2)}</span>`;
                    // Set currentProduct to first cart item for payment (for legacy logic)
                    currentProduct = products.find(p => p.name === cart[0].name);
                    showModal(paymentModal);
                }
            });
        }

        // Close modal buttons
        closeRegistrationModalBtn.addEventListener('click', () => hideModal(registrationModal));
        closeLoginModalBtn.addEventListener('click', () => hideModal(loginModal));
        closeForgotPasswordModalBtn.addEventListener('click', () => {
            hideModal(forgotPasswordModal);
            showModal(loginModal);
        });
        closeProductModalBtn.addEventListener('click', () => hideModal(productModal));
        closePaymentModalBtn.addEventListener('click', () => {
            hideModal(paymentModal);
            showModal(productModal);
        });
        closePaymentSuccessModalBtn.addEventListener('click', () => hideModal(paymentSuccessModal));
        closeOtpModalBtn.addEventListener('click', () => hideModal(otpModal));

        // Form submissions
        registrationForm.addEventListener('submit', function(e) {
    e.preventDefault();
    // Get form values
    const name = document.getElementById('regName').value;
    const email = document.getElementById('regEmail').value;
    const phone = document.getElementById('regPhone').value;
    const password = document.getElementById('regPassword').value;
    const confirmPassword = document.getElementById('regConfirmPassword').value;
    // Password match validation
    if (password !== confirmPassword) {
        alert('Passwords do not match. Please make sure both password fields are the same.');
        return;
    }
    // Simple validation
    if (!name || !email || !phone || !password) {
        alert('Please fill in all fields');
        return;
    }
    if (phone.length !== 10) {
        alert('Phone number must be exactly 10 digits.');
        return;
    }
    // Registration does not handle profile image upload; only in profile update
    const userObj = {
        name,
        email,
        phone: '+233' + phone,
        password, // NOTE: In a real app, never store raw passwords!
        profileImage: ''
    };
    // Save user to localStorage
    let users = JSON.parse(localStorage.getItem('ghmarketplace_users') || '[]');
    users.push(userObj);
    localStorage.setItem('ghmarketplace_users', JSON.stringify(users));
    currentUser = userObj;
    // Persist current user for session
    localStorage.setItem('ghmarketplace_currentUser', JSON.stringify(currentUser));
    alert(`Registration successful! Welcome ${name}`);
    hideModal(registrationModal);
    if (profileBtn) profileBtn.classList.remove('hidden');
    showProfile();
    syncHeroSliderButton();
    // Redirect to featured products & reviews page after login/register
    setTimeout(function() {
        window.location.href = 'featured-reviews.html';
    }, 800);
    registrationForm.reset();
});

        // --- OTP Timer Logic ---
        let otpTimerInterval = null;
        function startOTPTimer() {
            const otpTimer = document.getElementById('otpTimer');
            let timeLeft = 90; // 1 minute 30 seconds
            if (otpTimerInterval) clearInterval(otpTimerInterval);
            function updateTimer() {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                otpTimer.textContent = `Resend available in ${minutes}:${seconds.toString().padStart(2, '0')}`;
                if (timeLeft <= 0) {
                    clearInterval(otpTimerInterval);
                    otpTimer.textContent = 'You can resend the OTP now.';
                    document.getElementById('resendOtpBtn').disabled = false;
                } else {
                    document.getElementById('resendOtpBtn').disabled = true;
                }
                timeLeft--;
            }
            updateTimer();
            otpTimerInterval = setInterval(updateTimer, 1000);
        }

        loginForm.addEventListener('submit', function(e) {
    e.preventDefault();
    const email = document.getElementById('loginEmail').value;
    const password = document.getElementById('loginPassword').value;
    // Login with registered users from localStorage
    let users = JSON.parse(localStorage.getItem('ghmarketplace_users') || '[]');
    const foundUser = users.find(u => (u.email === email || u.phone === email || u.phone.replace('+233','') === email));
    if (!foundUser) {
        alert('No account found with this email or phone. Please register or sign up to continue.');
        hideModal(loginModal);
        showModal(registrationModal);
        return;
    }
    if (foundUser.password !== password) {
        alert('Incorrect password. Please try again.');
        return;
    }
    // Check if Remember Me is checked
    const rememberMe = loginForm.querySelector('input[type="checkbox"]')?.checked;
    // Generate OTP and show OTP modal
    const otp = generateOTP();
    window.generatedLoginOTP = otp;
    window.pendingLoginUser = foundUser;
    window.rememberLoginUser = rememberMe;
    hideModal(loginModal);
    showModal(otpModal);
    startOTPTimer();
    alert(`A 6-digit OTP has been sent to your email/phone. OTP: ${otp}`);
    this.reset();
});

        forgotPasswordForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('resetEmail').value;
            
            if (!email) {
                alert('Please enter your email address');
                return;
            }
            
            // Generate OTP
            const otp = generateOTP();
            
            // Show OTP modal
            hideModal(forgotPasswordModal);
            showModal(otpModal);
            
            // Start OTP timer
            startOTPTimer();
            
            // Show message (in a real app, this would send via SMS/email)
            alert(`We've sent an OTP to the email and phone number associated with ${email}. OTP: ${otp}`);
        });


        paymentForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const momoProvider = document.getElementById('momoProvider').value;
            const momoNumber = document.getElementById('momoNumber').value;
            if (!momoNumber) {
                alert('Please enter your MoMo number');
                return;
            }
            // Generate and store OTP
            const otp = generateOTP();
            hideModal(paymentModal);
            showModal(otpModal);
            startOTPTimer();
            alert(`Please enter the OTP sent to ${momoProvider} number ${momoNumber}. OTP: ${otp}`);
        });


        otpForm.addEventListener('submit', function(e) {
            e.preventDefault();
            // Get user input OTP (concatenate all input fields)
            let userOTP = '';
            const otpInputs = otpForm.querySelectorAll('input[type="text"]');
            otpInputs.forEach(input => {
                userOTP += input.value.trim();
            });
            // Payment OTP
            if (typeof generatedOTP !== 'undefined' && currentProduct) {
                if (userOTP !== generatedOTP) {
                    alert('Incorrect OTP. Please try again.');
                    return;
                }
                hideModal(otpModal);
                showModal(paymentSuccessModal);
                const momoProvider = document.getElementById('momoProvider').value;
                const momoNumber = document.getElementById('momoNumber').value;
                const amount = document.getElementById('paymentAmount').value;
                const productName = currentProduct.name;
                setTimeout(() => {
                    alert(`Payment Successful!\n\nProduct: ${productName}\nAmount: GHS ${amount}\nMoMo Provider: ${momoProvider}\nMoMo Number: ${momoNumber}`);
                }, 500);
                currentProduct = null;
                generatedOTP = undefined;
                return;
            }
            // Login OTP
            if (typeof window.generatedLoginOTP !== 'undefined' && window.pendingLoginUser) {
                if (userOTP !== window.generatedLoginOTP) {
                    alert('Incorrect OTP. Please try again.');
                    return;
                }
                // Successful login after OTP
                currentUser = window.pendingLoginUser;
                alert(`Welcome back ${currentUser.name}! Login confirmed.`);
                // Persist current user for session only if Remember Me was checked
                if (window.rememberLoginUser) {
                    localStorage.setItem('ghmarketplace_currentUser', JSON.stringify(currentUser));
                } else {
                    localStorage.removeItem('ghmarketplace_currentUser');
                }
                // Change register button to profile
                registerBtn.textContent = currentUser.name;
                becomeSellerBtn.textContent = "Become a Seller";
                if (profileBtn) profileBtn.classList.remove('hidden');
                showProfile();
                syncHeroSliderButton();
                // Redirect to featured products & reviews page after login
                setTimeout(function() {
                    window.location.href = 'featured-reviews.html';
                }, 800);
                // Cleanup
                window.generatedLoginOTP = undefined;
                window.pendingLoginUser = undefined;
                window.rememberLoginUser = undefined;
                hideModal(otpModal);
                return;
            }
            // Password reset OTP
            if (typeof generatedOTP !== 'undefined') {
                if (userOTP !== generatedOTP) {
                    alert('Incorrect OTP. Please try again.');
                    return;
                }
                hideModal(otpModal);
                alert('Your password has been reset. Please check your email for instructions.');
                showModal(loginModal);
                generatedOTP = undefined;
            }
        });

        resendOtpBtn.addEventListener('click', function() {
            const otp = generateOTP();
            startOTPTimer();
            alert(`New OTP sent. OTP: ${otp}`);
        });

        // Mobile menu toggle
        mobileMenuButton.addEventListener('click', function() {
            mobileMenu.classList.toggle('hidden');
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Remember user if already logged in
            let rememberedUser = null;
            try {
                rememberedUser = JSON.parse(localStorage.getItem('ghmarketplace_currentUser'));
            } catch (e) {}
            if (rememberedUser) {
                currentUser = rememberedUser;
                if (registerBtn) registerBtn.textContent = currentUser.name;
                if (becomeSellerBtn) becomeSellerBtn.textContent = "My Dashboard";
                if (profileBtn) profileBtn.classList.remove('hidden');
                // Do NOT show profile modal automatically
            }
            syncHeroSliderButton();
            displayProducts();
            animateHeroSlider();
            showCartCount();
            // Set default MoMo number
            document.getElementById('momoNumber').value = '';

            // Show register/login popup after 7 seconds if not logged in
            setTimeout(function() {
                if (!currentUser) {
                    // Prefer registration modal, or show login if user prefers
                    showModal(registrationModal);
                }
            }, 7000);

            // Password generator for registration
            const generatePasswordBtn = document.getElementById('generatePasswordBtn');
            if (generatePasswordBtn) {
                generatePasswordBtn.addEventListener('click', function() {
                    function randomPassword(length = 12) {
                        const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+';
                        let pass = '';
                        for (let i = 0; i < length; i++) {
                            pass += chars.charAt(Math.floor(Math.random() * chars.length));
                        }
                        return pass;
                    }
                    const password = randomPassword();
                    document.getElementById('regPassword').value = password;
                    document.getElementById('regConfirmPassword').value = password;
                    alert('A strong password has been generated and filled in for you.');
                });
            }
        });
       
    </script>
</body>
<script>
// Auto Registration/Login Prompt Modal Logic
document.addEventListener('DOMContentLoaded', function() {
    let autoPromptShown = sessionStorage.getItem('autoPromptShown');
    let currentUser = null;
    try {
        currentUser = JSON.parse(localStorage.getItem('ghmarketplace_currentUser'));
    } catch (e) {}
    if (!autoPromptShown && !currentUser) {
        setTimeout(function() {
            const modal = document.getElementById('autoRegLoginModal');
            if (modal) modal.classList.remove('hidden');
            sessionStorage.setItem('autoPromptShown', '1');
        }, 10000);
    }
    // Modal button logic
    const closeBtn = document.getElementById('closeAutoRegLoginModal');
    if (closeBtn) closeBtn.onclick = function() {
        document.getElementById('autoRegLoginModal').classList.add('hidden');
    };
    const regBtn = document.getElementById('autoShowRegister');
    if (regBtn) regBtn.onclick = function() {
        document.getElementById('autoRegLoginModal').classList.add('hidden');
        if (typeof registrationModal !== 'undefined') registrationModal.classList.remove('hidden');
    };
    const loginBtn = document.getElementById('autoShowLogin');
    if (loginBtn) loginBtn.onclick = function() {
        document.getElementById('autoRegLoginModal').classList.add('hidden');
        if (typeof loginModal !== 'undefined') loginModal.classList.remove('hidden');
    };
});
</script>
</html>